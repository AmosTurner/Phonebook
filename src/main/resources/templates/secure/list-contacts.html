<!--TODO add comments-->

<!DOCTYPE html>
<html lang="en" xmlns:th="https://www.thymeleaf.org" xmlns:sec="https://www.thymeleaf.org/thymeleaf-extras-springsecurity5">
<head>
    <meta charset="UTF-8" name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Display Results</title>
    <!-- Bootstrap 5 flag-->
    <link
            href="https://cdnjs.cloudflare.com/ajax/libs/mdb-ui-kit/3.6.0/mdb.min.css"
            rel="stylesheet"
    />
    <link rel="stylesheet" th:href="@{/css/style.css}" type="text/css"/>
    <script th:src="@{/js/script.js}"></script>
</head>
<body>
<header th:insert ="fragments/header.html :: header"></header>

<!--TODO add comments-->
<div sec:authorize="isAuthenticated()">
    User's Name: <span sec:authentication="name"></span><br>
    Roles: <span sec:authentication="principal.authorities">

    <!--<h3 th:each="c: ${contactList}">-->
    <!--    <h1>test</h1>-->
    <!--    <a href="#"-->
    <!--       th:onclick="'getContact('+ ${c.id} + ')'"-->
    <!--       th:text="${c.name}"></a>-->
    <!--    <div th:id="'contact' + ${c.id}"></div>-->
    <!--</h3>-->
</span><br><br>
    <section>
        <h2>List of Contacts</h2>
        <table style="width:50%" th:if="${contactList != null && contactList !=''}">
            <tr>
                <th>Name</th>
                <th>Phone Number</th>
                <th>Address</th>
                <th>Email</th>
                <th></th>
                <th></th>
            </tr>
            <tr th:each="c:${contactList}">
                <td th:text="${c.name}"></td>
                <td th:text="${c.phoneNumber}"></td>
                <td th:text="${c.address}"></td>
                <td th:text="${c.email}"></td>
                <td><a th:href="@{'contacts/' + ${c.id}}">Edit</a>
                <td><a th:href="@{'contacts/' + ${c.id}}">Delete</a>
            </tr>
        </table>
    </section>
    <br>
    <div>
        <form method="get" action="#" th:action="@{/logout}">
            <input type="submit" value="Logout" />
        </form>
    </div>
</div>


<br>
<footer th:replace ="fragments/footer.html :: footer"></footer>

</body>
</html>